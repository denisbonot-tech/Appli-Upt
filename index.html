<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Up-T | V7.4 CyberStrike</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="https://via.placeholder.com/180/000000/00f3ff?text=Up-T">
    
    <style>
        :root { --neon: #00f3ff; --bg: #000000; --tron-blue: rgba(0, 243, 255, 0.5); }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; background: var(--bg); font-family: 'Orbitron', sans-serif; color: white; }

        /* --- SPLASH SCREEN TRON 2.0 --- */
        #splash-screen {
            position: fixed; inset: 0; background: var(--bg); z-index: 9999;
            display: flex; justify-content: center; align-items: center; overflow: hidden;
        }
        .tron-container { position: relative; text-align: center; }
        .tron-text {
            font-size: 60px; font-weight: 900; color: transparent;
            -webkit-text-stroke: 1px var(--neon);
            letter-spacing: 8px; position: relative;
            filter: drop-shadow(0 0 10px var(--neon));
            animation: glitch 0.2s infinite alternate;
        }
        .tron-text::after {
            content: "Up-T"; position: absolute; left: 0; top: 0;
            width: 100%; height: 100%; color: var(--neon);
            overflow: hidden; clip-path: inset(0 100% 0 0);
            animation: fill-text 2s ease-in-out forwards;
            text-shadow: 0 0 20px var(--neon), 0 0 40px var(--neon);
        }
        @keyframes fill-text { to { clip-path: inset(0 0 0 0); } }
        
        /* Onde de choc finale */
        .shockwave {
            position: absolute; width: 10px; height: 10px; background: white;
            border-radius: 50%; opacity: 0; pointer-events: none;
        }
        .shock-active { animation: shock 0.8s ease-out forwards; }
        @keyframes shock {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(100); opacity: 0; }
        }

        /* --- APP UI --- */
        #app-content { opacity: 0; transition: opacity 0.5s; height: 100%; }
        #app-content.ready { opacity: 1; }
        #main-viewport { display: flex; width: 500vw; height: 100vh; transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1); transform: translateX(-200vw); }
        .page { width: 100vw; height: 100vh; position: relative; overflow-y: auto; }

        /* CHAT STYLE */
        #chat-container { height: 80vh; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 10px; margin-top: 50px; }
        .msg { padding: 12px; border-radius: 10px; background: rgba(255,255,255,0.05); border-left: 3px solid var(--neon); max-width: 80%; }
        .msg b { color: var(--neon); display: block; font-size: 0.7rem; }

        #taskbar { position: fixed; bottom: 0; width: 100%; height: 60px; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); display: flex; justify-content: space-around; align-items: center; border-top: 1px solid var(--tron-blue); z-index: 100; }
        .nav-item { color: white; opacity: 0.4; transition: 0.3s; }
        .nav-item.active { color: var(--neon); opacity: 1; filter: drop-shadow(0 0 5px var(--neon)); }
        /* ... (reste du CSS identique) ... */
    
    .tron-text::after {
        content: "Up-T"; position: absolute; left: 0; top: 0;
        width: 100%; height: 100%; color: var(--neon);
        overflow: hidden; clip-path: inset(0 100% 0 0);
        animation: fill-text 1.2s ease-in forwards, white-out 0.3s 1.2s forwards;
        text-shadow: 0 0 20px var(--neon);
    }

    @keyframes fill-text { to { clip-path: inset(0 0 0 0); } }

    /* Le passage au blanc √©lectrique */
    @keyframes white-out {
        to { color: #ffffff; text-shadow: 0 0 30px #ffffff, 0 0 60px #ffffff; filter: brightness(2); }
    }
    
    .shock-active { animation: shock 0.5s ease-out forwards; }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@900&display=swap" rel="stylesheet">
</head>
<body>

    <div id="splash-screen">
        <div class="tron-container">
            <div class="tron-text">Up-T</div>
            <div id="shock" class="shockwave"></div>
        </div>
    </div>

    <div id="app-content">
        <div id="main-viewport">
            <div class="page"> </div>
            <div class="page"> </div>
            <div class="page" id="carrosse-feed"> </div>
            <div class="page" id="podium-list"> </div>
            <div class="page"> <div id="chat-container"></div>
                <div style="padding: 10px; display: flex; gap: 5px; position: fixed; bottom: 70px; width: 95%;">
                    <input type="text" id="chat-input" style="flex:1; background:#111; border:1px solid var(--neon); color:white; padding:10px; border-radius:5px;" placeholder="Message...">
                    <button onclick="sendMsg()" style="background:var(--neon); border:none; padding:10px; border-radius:5px;">‚ö°</button>
                </div>
            </div>
        </div>

        <nav id="taskbar">
            <div class="nav-item" onclick="goTo(0)">‚ûï</div>
            <div class="nav-item" onclick="goTo(1)">üë§</div>
            <div class="nav-item active" onclick="goTo(2)">üöÄ</div>
            <div class="nav-item" onclick="goTo(3)">üèÜ</div>
            <div class="nav-item" onclick="goTo(4)">üí¨</div>
        </nav>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, limit } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = { 
            apiKey: "AIzaSyBIsxyL2jrrhvUpypSZqt4eakbZb2XR7Jk", 
            authDomain: "up-t-network.firebaseapp.com", 
            projectId: "up-t-network", 
            storageBucket: "up-t-network.firebasestorage.app", 
            messagingSenderId: "1066469813456", 
            appId: "1:1066469813456:web:4b660350832ea1d95702d5" 
        };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        let user = localStorage.getItem('up-t-user') || "Anonyme";

        // --- SPLASH ANIMATION ---
        setTimeout(() => {
            document.getElementById('shock').classList.add('shock-active');
            setTimeout(() => {
                document.getElementById('splash-screen').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('splash-screen').style.display = 'none';
                    document.getElementById('app-content').classList.add('ready');
                }, 500);
            }, 400); // Temps de l'impact
        }, 3200);

        // --- CHAT SYSTEM ---
        window.sendMsg = async () => {
            const input = document.getElementById('chat-input');
            if(input.value.trim()){
                await addDoc(collection(db, "chats"), { user, msg: input.value, time: Date.now() });
                input.value = "";
            }
        };

        onSnapshot(query(collection(db, "chats"), orderBy("time", "desc"), limit(50)), (snap) => {
            const container = document.getElementById('chat-container');
            container.innerHTML = snap.docs.map(doc => {
                const d = doc.data();
                return `<div class="msg"><b>${d.user}</b>${d.msg}</div>`;
            }).reverse().join('');
            container.scrollTop = container.scrollHeight;
        });

        // --- NAVIGATION ---
        window.goTo = (i) => {
            document.getElementById('main-viewport').style.transform = `translateX(${-i*100}vw)`;
            document.querySelectorAll('.nav-item').forEach((n,idx) => n.classList.toggle('active', idx===i));
        };
        // --- SPLASH ANIMATION ACC√âL√âR√âE ---
    setTimeout(() => {
        const shock = document.getElementById('shock');
        shock.classList.add('shock-active');
        
        // On fait dispara√Ætre le splash juste au pic de blancheur
        setTimeout(() => {
            const screen = document.getElementById('splash-screen');
            screen.style.opacity = '0';
            setTimeout(() => {
                screen.style.display = 'none';
                document.getElementById('app-content').classList.add('ready');
            }, 300);
        }, 200); 
    }, 1800); // D√©clenchement rapide apr√®s le dessin des lettres
    </script>
</body>
</html>
